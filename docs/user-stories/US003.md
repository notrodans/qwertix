# User Story: Core Typing Mechanics & Solo Mode

**ID:** US003  
**Priority:** High  
**Estimate:** Extra Large  
**Epic:** Core Gameplay

## Story

As a player, I want a responsive, high-performance typing interface with instant visual feedback and a solo practice mode so that I can improve my typing speed and accuracy.

## Acceptance Criteria

- [ ] System captures global keystrokes and provides visual feedback for correct, incorrect, and untyped characters
- [ ] Navigation supports `Space` to jump words, `Backspace` to correct, and `Ctrl+Backspace` to delete words
- [ ] Real-time metrics are calculated for WPM, Raw WPM, Accuracy, and Consistency
- [ ] `TIME` mode supports 15, 30, 60, and 120 second durations with infinite text scrolling
- [ ] `WORDS` mode supports 10, 25, 50, and 100 word fixed targets
- [ ] "Out of focus" overlay appears if tab is switched, and inactivity > 5s is tracked
- [ ] Client signs results with `RESULT_HASH_SALT` before submission
- [ ] Server verifies result hash and recalculates stats from full `replayData` to prevent cheating
- [ ] Server rejects results that exceed tolerance limits (+/- 5 WPM, +/- 2% Accuracy)
- [ ] Full visual playback of the typing session is available on the results screen

## Notes

- Input latency must be minimal as this is the critical path
- Verification strategy prevents simple HTTP tampering or replay attacks
- `replayData` must capture `timestamp` and `confirmedIndex` for every keystroke

## Tasks

- [ ] Implement `typing-text` entity using Reatom or Zustand
- [ ] Create `SoloMode` feature with infinite scroll logic
- [ ] Implement dual-layer result verification (Hash + Replay Analysis) on backend
- [ ] Build Result screen with performance charts and statistics
